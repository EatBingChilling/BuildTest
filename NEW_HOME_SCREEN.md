# 新主页功能说明

## 概述
新的主页采用Material3设计，支持动态取色，竖屏布局，并集成了应用验证功能。

## 主要特性

### 1. Material3设计
- 采用最新的Material3设计语言
- 支持动态取色（Dynamic Color）
- 现代化的UI组件和动画效果
- 响应式布局设计

### 2. 竖屏布局
- 专门为竖屏设备优化
- 更好的单手操作体验
- 适配移动设备的屏幕比例

### 3. 集成验证功能
- 应用启动时自动进行验证
- 半透明覆盖层显示验证进度
- 如果连接服务器失败则跳过所有步骤直接进入
- 验证步骤包括：
  - 连接服务器
  - 获取公告
  - 获取隐私协议
  - 检查版本更新

### 4. 功能模块
新主页包含以下功能模块：

#### 服务器选择
- 服务器列表管理
- 连接状态显示
- Zeqa子服务器选择

#### 账户管理
- 账户添加/删除
- 账户切换
- 当前账户状态显示

#### 材质包管理
- 材质包列表
- 材质包下载
- 材质包选择

### 5. 启动功能
- 一键启动Minecraft
- 自动注入Neko包
- 服务器初始化
- 连接信息显示

## 技术实现

### 文件结构
```
app/src/main/java/com/project/lumina/client/
├── activity/
│   ├── NewMainActivity.kt          # 新的主Activity
│   └── LaunchActivity.kt           # 启动Activity
├── router/
│   ├── main/
│   │   ├── NewHomeScreen.kt        # 新的主页界面
│   │   ├── MainScreen.kt           # 主屏幕容器
│   │   ├── AccountScreen.kt        # 账户管理界面
│   │   └── PacksScreen.kt          # 材质包管理界面
│   └── launch/
│       └── PortraitLauncherContent.kt  # 启动界面
```

### 主要组件

#### NewHomeScreen
- 主界面容器
- 验证覆盖层
- 选项卡导航
- 启动按钮

#### 验证系统
- 自动验证流程
- 错误处理
- 跳过机制

#### 动态主题
- Material3主题支持
- 动态取色
- 深色/浅色模式

## 使用方法

1. 应用启动时会显示启动动画
2. 自动进行应用验证
3. 验证完成后进入主界面
4. 通过选项卡切换不同功能
5. 点击启动按钮开始游戏

## 配置说明

### AndroidManifest.xml
- LaunchActivity设置为默认启动Activity
- 屏幕方向设置为竖屏
- 添加了NewMainActivity声明

### 主题配置
- 使用Material3主题
- 支持动态取色
- 适配深色模式

## 注意事项

1. 新主页需要Android 12+支持动态取色
2. 验证失败时会自动跳过并进入主界面
3. 所有原有功能都已保留并优化
4. 界面采用竖屏布局，更适合移动设备使用 